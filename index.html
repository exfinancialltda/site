<!DOCTYPE html>
<!-- saved from url=(0048)file:///Users/bagrat/Downloads/Ex.financial.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ex.financial</title>
  <link href="file:///Users/bagrat/Downloads/Ex.financial_files/css2" rel="stylesheet">
  <style>
    :root {
      --primary-color: #005580;
      --secondary-color: #003d5c;
      --accent-color: #005580;
      --success-color: #005580;
      --warning-color: #ff6b6b;
      --error-color: #ff6b6b;
      --text-primary: #ffffff;
      --text-secondary: #cccccc;
      --bg-primary: #0a0a0a;
      --bg-secondary: #1a1a1a;
      --border-color: #333333;
      --card-bg: rgba(26, 26, 26, 0.95);
      --glass-bg: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
      --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
      --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
      --gradient-primary: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      --gradient-accent: linear-gradient(135deg, var(--accent-color) 0%, var(--success-color) 100%);
      --border-radius: 16px;
      --border-radius-sm: 8px;
      --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }

    body {
      background: var(--bg-primary);
      background-attachment: fixed;
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Header Styles */
    header {
        text-align: center;      flex-wrap: wrap;
      gap: 1rem;      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: var(--shadow-lg);
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 1px solid var(--border-color);
    }

    .logo {
      justify-content: center;
      flex: 1;      display: flex;
      align-items: center;
      font-weight: 800;
      font-size: 1.75rem;
      gap: 0.75rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .logo span {
    .logo-ex {
      color: #ffffff !important;
      -webkit-text-fill-color: #ffffff !important;
      background: none !important;
      background-clip: unset !important;
    }      color: var(--primary-color);
    }

    .status {
      justify-content: center;
      flex: 1;      display: flex;
      align-items: center;
      gap: 1rem;
      font-size: 0.9rem;
      color: var(--success-color);
      font-weight: 600;
    }

    .status svg {
      width: 18px;
      height: 18px;
    }

    .time {
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .support {
      justify-content: center;
      flex: 1;      display: flex;
      flex-direction: column;
      font-size: 0.85rem;
      color: var(--success-color);
      gap: 0.25rem;
      font-weight: 600;
    }

    .lang {
      justify-content: center;
      flex: 1;      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .lang svg {
      width: 18px;
      height: 18px;
    }

    .auth {
      display: flex;
      gap: 1rem;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--border-radius-sm);
      cursor: pointer;
      font-weight: 600;
      transition: var(--transition);
      font-size: 0.9rem;
    }

    .btn-login {
      background: transparent;
      color: var(--text-primary);
      border: 2px solid var(--border-color);
    }

    .btn-login:hover {
      border-color: #ffffff;
      color: #ffffff;
    }

    .btn-register {
      background: var(--gradient-primary);
      color: var(--text-primary);
      box-shadow: var(--shadow-md);
    }

    .btn-register:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    /* Navigation */
    nav {
      display: flex;
      gap: 2rem;
      margin: 1rem 0;
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      padding: 1rem 2rem;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--glass-border);
    }

    nav a {
      text-decoration: none;
      color: var(--text-secondary);
      font-weight: 500;
      transition: var(--transition);
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius-sm);
    }

    nav a:hover {
      color: #ffffff;
      background: rgba(79, 172, 254, 0.1);
    }

    .active {
      background: var(--gradient-primary);
      color: var(--text-primary);
      padding: 0.5rem 1rem;
      border-radius: var(--border-radius-sm);
      box-shadow: var(--shadow-md);
    }

    /* Main Content */
    .main {
      display: flex;
      gap: 2rem;
      padding: 1rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    /* Card Styles */
    .card {
      background: var(--card-bg);
      backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      box-shadow: var(--shadow-xl);
      flex: 1;
      border: 1px solid var(--glass-border);
      transition: var(--transition);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    .card h3 {
      font-size: 1.25rem;
      color: #ffffff;
      margin-bottom: 1rem;
      border-bottom: 2px solid var(--border-color);
      padding-bottom: 0.75rem;
      font-weight: 700;
      position: relative;
    }

    .card h3::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 50px;
      height: 2px;
      background: var(--accent-color);
      border-radius: 1px;
    }

    /* Filter Styles */
    .filter {
      display: flex;
      gap: 0.75rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 0.5rem 1rem;
      border: none;
      border-radius: 25px;
      font-size: 0.85rem;
      cursor: pointer;
      background: var(--bg-secondary);
      color: var(--text-secondary);
      transition: var(--transition);
      font-weight: 500;
      border: 1px solid var(--border-color);
    }

    .filter-btn:hover {
      background: var(--primary-color);
      color: var(--text-primary);
      transform: translateY(-1px);
    }

    .filter-btn.active {
      background: var(--gradient-primary);
      color: var(--text-primary);
      box-shadow: var(--shadow-md);
    }

    /* Currency List Styles */
    .currency-list {
      list-style: none;
      max-height: 550px; /* Высота для 11 элементов (примерно 50px каждый) */
      overflow-y: auto; /* Вертикальная прокрутка */
      overflow-x: hidden; /* Горизонтальная прокрутка скрыта */
      scrollbar-width: thin; /* Тонкий скроллбар для Firefox */
      scrollbar-color: var(--accent-color) var(--card-bg); /* Цвет скроллбара */
      position: relative; /* Для псевдоэлемента */
    }

    /* Стили для скроллбара WebKit (Chrome, Safari, Edge) */
    .currency-list::-webkit-scrollbar {
      width: 6px;
    }

    .currency-list::-webkit-scrollbar-track {
      background: var(--card-bg);
      border-radius: 3px;
    }

    .currency-list::-webkit-scrollbar-thumb {
      background: var(--accent-color);
      border-radius: 3px;
    }

    .currency-list::-webkit-scrollbar-thumb:hover {
      background: var(--accent-hover);
    }

    /* Индикатор прокрутки */
    .currency-list::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 20px;
      height: 20px;
      background: linear-gradient(transparent, var(--card-bg));
      pointer-events: none;
      border-radius: 0 0 8px 0;
    }

    /* Улучшенная прокрутка для длинных списков */
    .currency-list {
      scroll-behavior: smooth;
    }

    /* Стили для последних элементов в списке */
    .currency-item:last-child {
      margin-bottom: 0;
    }

    /* Улучшенный hover эффект для длинных списков */
    .currency-item:hover {
      z-index: 10;
    }

    .currency-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      border-bottom: 1px solid var(--border-color);
      cursor: pointer;
      transition: all 0.3s ease;
      border-radius: var(--border-radius-sm);
      margin-bottom: 0.5rem;
      height: 50px; /* Фиксированная высота для каждого элемента */
      box-sizing: border-box; /* Учитывать padding в общей высоте */
    }

    .currency-item:hover {
      background: var(--glass-bg);
      border-color: #ffffff;
      transform: translateX(5px); /* Легкое смещение при наведении */
      transform: translateX(5px);
    }

    .currency-item.active {
      background: var(--gradient-primary);
      color: var(--text-primary);
      border-left: 4px solid var(--accent-color);
      box-shadow: var(--shadow-md);
    }

    .currency-item.active .currency-name {
      color: var(--text-primary);
      font-weight: 700;
    }

    .currency-item.active .currency-icon svg {
      fill: var(--text-primary);
    }

    .currency-item .currency-icon svg {
      fill: var(--primary-color);
    }

    .currency-icon {
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: var(--bg-secondary);
      border: 2px solid var(--border-color);
      transition: var(--transition);
    }

    .currency-item:hover .currency-icon {
      border-color: var(--primary-color);
      transform: scale(1.1);
    }

    .currency-name {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .currency-code {
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    .reserve {
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* Form Styles */
    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
      color: var(--text-secondary);
      font-weight: 600;
    }

    .form-label[for="well"] {
      color: #ffffff;
      font-weight: 700;
      font-size: 1rem;
      text-align: center;
    }

    .form-input {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--border-color);
      border-radius: var(--border-radius-sm);
      font-size: 1rem;
      transition: var(--transition);
      background: var(--card-bg);
    }

    .form-input:focus {
      border-color: #ffffff;
      outline: none;
      box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
      background: var(--card-bg);
    }

    .form-input::placeholder {
      color: var(--text-muted);
      opacity: 0.7;
    }

    small {
      color: var(--text-muted);
      font-size: 0.875rem;
      opacity: 0.8;
    }

    .form-input[readonly] {
      background: var(--bg-secondary);
      color: var(--text-primary);
      font-weight: 600;
      font-size: 1.1rem;
      text-align: center;
      border-color: #ffffff;
    }

    .form-input[readonly]:focus {
      border-color: #ffffff;
      box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
    }

    .form-input[type="number"] {
      color: var(--text-primary);
      font-weight: 500;
    }

    .form-input[type="number"]:focus {
      color: var(--text-primary);
    }

    .form-input[type="email"],
    .form-input[type="tel"] {
      color: var(--text-primary);
      font-weight: 500;
    }

    .form-input[type="email"]:focus,
    .form-input[type="tel"]:focus {
      color: var(--text-primary);
    }

    .form-input[type="text"] {
      color: var(--text-primary);
      font-weight: 500;
    }

    .form-input[type="text"]:focus {
      color: var(--text-primary);
    }

    select.form-input {
      cursor: pointer;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 1rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 3rem;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      color: var(--text-primary);
      font-weight: 500;
    }

    .form-row {
      display: flex;
      gap: 1.5rem;
    }

    .form-col {
      flex: 1;
    }

    .btn-submit {
      background: var(--gradient-primary);
      color: var(--text-primary);
      padding: 1rem;
      border: none;
      border-radius: var(--border-radius-sm);
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      margin-top: 1.5rem;
      font-size: 1.1rem;
      transition: all 0.3s ease;
      box-shadow: var(--shadow-md);
      position: relative;
      overflow: hidden;
    }

    .btn-submit::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }

    .btn-submit:hover::before {
      left: 100%;
    }

    .btn-submit svg {
      vertical-align: middle;
      display: inline-block;
    }

    /* Стили для контейнера курса */
    .rate-container {
      position: relative;
    }

    .rate-status {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .commission-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
      padding: 0.5rem 1rem;
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 212, 170, 0.1));
      border: 1px solid rgba(79, 172, 254, 0.2);
      border-radius: 20px;
      font-size: 0.8rem;
      color: #ffffff;
      font-weight: 500;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(79, 172, 254, 0.15);
    }

    .commission-info:hover {
      background: linear-gradient(135deg, rgba(79, 172, 254, 0.15), rgba(0, 212, 170, 0.15));
      border-color: rgba(79, 172, 254, 0.3);
      box-shadow: 0 4px 12px rgba(79, 172, 254, 0.2);
      transform: translateY(-1px);
    }

    .commission-icon {
      font-size: 1rem;
      filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
    }

    .commission-text {
      color: #ffffff;      font-weight: 500;
    }

    .commission-text strong {
      color: #ffffff;
      font-weight: 700;
    }

    .status-indicator {
      font-size: 1rem;
    }

    .status-text {
      color: #ffffff;      font-weight: 500;
    }

    /* Анимация для индикатора загрузки */
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .status-indicator.loading {
      animation: spin 1s linear infinite;
    }

    /* Стили для больших экранов */
    @media (min-width: 1200px) {
      .currency-list {
        max-height: 600px; /* Еще больше места для больших экранов */
      }
      
      .currency-item {
        height: 52px; /* Немного больше высота для лучшей читаемости */
        padding: 1.1rem;
      }
    }

    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-lg);
    }

    /* Стили для группы кнопок */
    .button-group {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .btn-whatsapp {
      background: linear-gradient(135deg, #005580, #003d5c);
      flex: 1;
      min-width: 200px;
    }

    .btn-telegram {
      background: linear-gradient(135deg, #005580, #003d5c);
      flex: 1;
      min-width: 200px;
    }

    .btn-whatsapp:hover {
      background: linear-gradient(135deg, #003d5c, #005580);
    }

    .btn-telegram:hover {
      background: linear-gradient(135deg, #003d5c, #005580);
    }

    /* Адаптивность для мобильных устройств */
    @media (max-width: 768px) {
      .button-group {
        flex-direction: column;
        gap: 0.75rem;
      }
      
      .btn-whatsapp,
      .btn-telegram {
        min-width: 100%;
      }
    }

    /* Steps Styles */
    .steps {
      display: flex;
      gap: 2rem;
      margin-top: 2rem;
      font-size: 0.9rem;
      color: var(--text-secondary);
      flex-wrap: wrap;
    }

    .step {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 1rem;
      background: var(--bg-secondary);
      border-radius: var(--border-radius-sm);
      border: 1px solid var(--border-color);
    }

    .step svg {
      width: 20px;
      height: 20px;
      color: var(--primary-color);
    }

    /* Chat Button */
    .chat-button {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: var(--gradient-accent);
      color: var(--text-primary);
      border: none;
      border-radius: 50%;
      width: 70px;
      height: 70px;
      cursor: pointer;
      box-shadow: var(--shadow-xl);
      transition: var(--transition);
      z-index: 1000;
    }

    .chat-button:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    .chat-button svg {
      width: 28px;
      height: 28px;
    }

    /* Footer */
    footer {
      text-align: center;      background: var(--card-bg);
      backdrop-filter: blur(20px);
      padding: 2rem 2rem;
      margin-top: 1rem;
      border-top: 1px solid var(--glass-border);
      box-shadow: var(--shadow-lg);
    }

    footer a {
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }      display: inline-block;
      margin: 0.25rem;      text-decoration: none;
      color: var(--text-secondary);
      font-weight: 600;
      padding: 0.75rem 1.5rem;
      border-radius: var(--border-radius-sm);
      transition: var(--transition);
      border: 1px solid transparent;
    }

    footer a:hover {
      color: #ffffff;
      border-color: #ffffff;
      background: rgba(79, 172, 254, 0.1);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main {
        flex-direction: column;
        padding: 0.75rem;
        gap: 1rem;
      }

      footer {
      text-align: center;        padding: 1.5rem 1rem;
        margin-top: 0.75rem;
      }
      
      .form-row {
        flex-direction: column;
        gap: 0.75rem;
      }
      
      header {
        text-align: center;      flex-wrap: wrap;
      gap: 1rem;        flex-direction: column;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
      }

      .card {
        padding: 1.25rem;
      }

      .card h3 {
        margin-bottom: 0.75rem;
        padding-bottom: 0.5rem;
      }

      .currency-list {
        max-height: 500px;
      }

      .currency-item {
        height: 48px;
        padding: 0.875rem;
        margin-bottom: 0.375rem;
      }

      .steps {
        flex-direction: column;
        gap: 1rem;
      }

      .filter {
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      .main {
        padding: 0.5rem;
        gap: 0.75rem;
      }
      
      .card {
        padding: 0.75rem;
      }

      .card h3 {
        margin-bottom: 0.5rem;
        padding-bottom: 0.5rem;
      }
      
      header {
        text-align: center;      flex-wrap: wrap;
      gap: 1rem;        padding: 0.5rem 1rem;
      }

      footer {
      text-align: center;        padding: 1rem 0.75rem;
        margin-top: 0.5rem;
      }

      .currency-list {
        max-height: 450px;
      }

      .currency-item {
        height: 45px;
        padding: 0.75rem;
        margin-bottom: 0.25rem;
      }
    }

    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .card {
      animation: fadeInUp 0.6s ease-out;
    }

    .currency-item {
      animation: fadeInUp 0.4s ease-out;
    }

    .currency-item:nth-child(1) { animation-delay: 0.1s; }
    .currency-item:nth-child(2) { animation-delay: 0.2s; }
    .currency-item:nth-child(3) { animation-delay: 0.3s; }
    .currency-item:nth-child(4) { animation-delay: 0.4s; }
    .currency-item:nth-child(5) { animation-delay: 0.5s; }
    .currency-item:nth-child(6) { animation-delay: 0.6s; }
    .currency-item:nth-child(7) { animation-delay: 0.7s; }
    .currency-item:nth-child(8) { animation-delay: 0.8s; }
    .currency-item:nth-child(9) { animation-delay: 0.9s; }

    select.form-input:focus {
      color: var(--text-primary);
    }
    .logo-ex {
      color: #ffffff !important;
      -webkit-text-fill-color: #ffffff !important;
      background: none !important;
      background-clip: unset !important;
    }
    .logo-financial {
      color: #61BCF3 !important;
      -webkit-text-fill-color: #61BCF3 !important;
      background: none !important;
      background-clip: unset !important;
    }  </style>
</head>
<body>

  <!-- Header -->
  <header>
    <div class="logo">
      <span class="logo-ex">EX</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path d="M12 2L2 7l10 5 12l10 5 10-5M2 12l10 5 10-5" fill="currentColor"></path></svg><span class="logo-financial">FINANCIAL</span>
    </div>
    <div class="status">
      <div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg> The service is working</div>
      <div><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg> 24/7</div>
    </div>

    <div class="support">
      <div>support@ex.financial</div>
    </div>
    <div class="lang">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16" height="16"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg>
      EN
    </div>

  </header>



  <!-- Main Content -->
  <div class="main">
    <!-- Left Column -->
    <div class="card">
      <h3>SELECT WHAT YOU SEND</h3>
      <ul class="currency-list">
        <!-- Стабильные монеты -->
        <li class="currency-item active" data-currency="USDT (TRC-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (TRC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDT (ERC-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDT (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (ERC-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="DAI (ERC-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">DAI (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="BUSD (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BUSD (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="TUSD (ERC-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">TUSD (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDT (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="BUSD (BEP-20)" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BUSD (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="Bitcoin BTC" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Bitcoin BTC</div>
        </li>
        <li class="currency-item" data-currency="Ethereum ETH" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Ethereum ETH</div>
        </li>
        <li class="currency-item" data-currency="Litecoin LTC" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Litecoin LTC</div>
        </li>
        <li class="currency-item" data-currency="Tron TRX" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Tron TRX</div>
        </li>
        <li class="currency-item" data-currency="Bsc BNB" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Bsc BNB</div>
        </li>
        <li class="currency-item" data-currency="Polygon MATIC" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Polygon MATIC</div>
        </li>
        <li class="currency-item" data-currency="Solana SOL" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Solana SOL</div>
        </li>
        <li class="currency-item" data-currency="Cardano ADA" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Cardano ADA</div>
        </li>
        <li class="currency-item" data-currency="Dogecoin DOGE" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Dogecoin DOGE</div>
        </li>
        <li class="currency-item" data-currency="Shiba Inu SHIB" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Shiba Inu SHIB</div>
        </li>
        <li class="currency-item" data-currency="Monero XMR" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Monero XMR</div>
        </li>
        <li class="currency-item" data-currency="Litecoin LTC" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Litecoin LTC</div>
        </li>
        <li class="currency-item" data-currency="Tron TRX" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Tron TRX</div>
        </li>
        <li class="currency-item" data-currency="Bsc BNB" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Bsc BNB</div>
        </li>
        <li class="currency-item" data-currency="Polygon MATIC" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Polygon MATIC</div>
        </li>
        <li class="currency-item" data-currency="Solana SOL" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Solana SOL</div>
        </li>
        <li class="currency-item" data-currency="Cardano ADA" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Cardano ADA</div>
        </li>
        <li class="currency-item" data-currency="Dogecoin DOGE" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Dogecoin DOGE</div>
        </li>
        <li class="currency-item" data-currency="Shiba Inu SHIB" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Shiba Inu SHIB</div>
        </li>
        
        <!-- Фиатные валюты -->
        <li class="currency-item" data-currency="BRL Real" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BRL Real</div>
        </li>
        <li class="currency-item" data-currency="USD Dollar" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USD Dollar</div>
        </li>
        <li class="currency-item" data-currency="EUR Euro" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">EUR Euro</div>
        </li>
        <li class="currency-item" data-currency="CNY Yuan" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CNY Yuan</div>
        </li>
        <li class="currency-item" data-currency="GBP Pound" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">GBP Pound</div>
        </li>
        <li class="currency-item" data-currency="JPY Yen" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">JPY Yen</div>
        </li>
        <li class="currency-item" data-currency="CAD Dollar" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CAD Dollar</div>
        </li>
        <li class="currency-item" data-currency="AUD Dollar" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">AUD Dollar</div>
        </li>
        <li class="currency-item" data-currency="CHF Franc" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CHF Franc</div>
        </li>
        <li class="currency-item" data-currency="RUB Ruble" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">RUB Ruble</div>
        </li>
        <li class="currency-item" data-currency="INR Rupee" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">INR Rupee</div>
        </li>
        <li class="currency-item" data-currency="KRW Won" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">KRW Won</div>
        </li>
        <li class="currency-item" data-currency="CNY Yuan" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CNY Yuan</div>
        </li>
        <li class="currency-item" data-currency="GBP Pound" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">GBP Pound</div>
        </li>
        <li class="currency-item" data-currency="JPY Yen" data-type="from">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">JPY Yen</div>
        </li>
      </ul>
    </div>

    <!-- Middle Column -->
    <div class="card">
      <h3>SELECT WHAT YOU GET</h3>
      <ul class="currency-list">
        <!-- Фиатные валюты -->
        <li class="currency-item active" data-currency="BRL Real" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BRL Real</div>
        </li>
        <li class="currency-item" data-currency="USD Dollar" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USD Dollar</div>
        </li>
        <li class="currency-item" data-currency="EUR Euro" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">EUR Euro</div>
        </li>
        <li class="currency-item" data-currency="CNY Yuan" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CNY Yuan</div>
        </li>
        <li class="currency-item" data-currency="GBP Pound" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">GBP Pound</div>
        </li>
        <li class="currency-item" data-currency="JPY Yen" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">JPY Yen</div>
        </li>
        <li class="currency-item" data-currency="CNY Yuan" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CNY Yuan</div>
        </li>
        <li class="currency-item" data-currency="GBP Pound" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">GBP Pound</div>
        </li>
        <li class="currency-item" data-currency="CAD Dollar" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CAD Dollar</div>
        </li>
        <li class="currency-item" data-currency="AUD Dollar" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">AUD Dollar</div>
        </li>
        <li class="currency-item" data-currency="CHF Franc" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">CHF Franc</div>
        </li>
        <li class="currency-item" data-currency="RUB Ruble" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">RUB Ruble</div>
        </li>
        <li class="currency-item" data-currency="INR Rupee" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">INR Rupee</div>
        </li>
        <li class="currency-item" data-currency="KRW Won" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">KRW Won</div>
        </li>
        
        <!-- Стабильные монеты -->
        <li class="currency-item" data-currency="USDT (TRC-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (TRC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDT (ERC-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (ERC-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="DAI (ERC-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">DAI (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (BEP-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="BUSD (BEP-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BUSD (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="TUSD (ERC-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">TUSD (ERC-20)</div>
        </li>
        <li class="currency-item" data-currency="USDT (BEP-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDT (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="USDC (BEP-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">USDC (BEP-20)</div>
        </li>
        <li class="currency-item" data-currency="BUSD (BEP-20)" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">BUSD (BEP-20)</div>
        </li>
        
        <!-- Основные криптовалюты -->
        <li class="currency-item" data-currency="Bitcoin BTC" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Bitcoin BTC</div>
        </li>
        <li class="currency-item" data-currency="Ethereum ETH" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Ethereum ETH</div>
        </li>
        <li class="currency-item" data-currency="Litecoin LTC" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Litecoin LTC</div>
        </li>
        <li class="currency-item" data-currency="Tron TRX" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Tron TRX</div>
        </li>
        <li class="currency-item" data-currency="Bsc BNB" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Bsc BNB</div>
        </li>
        <li class="currency-item" data-currency="Polygon MATIC" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Polygon MATIC</div>
        </li>
        <li class="currency-item" data-currency="Solana SOL" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Solana SOL</div>
        </li>
        <li class="currency-item" data-currency="Cardano ADA" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Cardano ADA</div>
        </li>
        <li class="currency-item" data-currency="Dogecoin DOGE" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Dogecoin DOGE</div>
        </li>
        <li class="currency-item" data-currency="Shiba Inu SHIB" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Shiba Inu SHIB</div>
        </li>
        <li class="currency-item" data-currency="Monero XMR" data-type="to">
          <div class="currency-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"></path></svg></div>
          <div class="currency-name">Monero XMR</div>
        </li>
      </ul>
    </div>

    <!-- Right Column -->
    <div class="card">
      <h3>ENTER DETAILS</h3>

      <div class="form-group">
        <label for="well" class="form-label">RATE</label>
        <div class="rate-container">
          <input type="text" id="well" class="form-input" placeholder="Loading real-time rates..." readonly="" style="color: rgb(0, 212, 170);">
          <div id="rate-status" class="rate-status">
            <span class="status-indicator" id="status-indicator">✅</span>
            <span class="status-text" id="status-text">Real-time rate from Binance</span>
          </div>
          <div id="commission-info" class="commission-info">
            <span class="commission-icon">💰</span>
            <span class="commission-text">Service fee: <strong>2%</strong></span>
          </div>
        </div>


      </div>
      <div class="form-row">
        <div class="form-col">
          <label for="give" class="form-label">You give:</label>
          <input type="number" id="give" class="form-input" placeholder="Enter the amount">

        </div>
        <div class="form-col">
          <label for="receive" class="form-label">You receive:</label>
          <input type="number" id="receive" class="form-input" placeholder="Enter the amount">

        </div>
      </div>

      <div class="button-group">
        <button class="btn-submit btn-whatsapp">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"></path>
          </svg>
          Start Exchange via WhatsApp
        </button>
        
        <button class="btn-submit btn-telegram" onclick="startTelegramExchange()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="margin-right: 8px;">
            <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"></path>
          </svg>
          Start Exchange via Telegram
        </button>
      </div>
    </div>
  </div>

  <!-- JavaScript for currency conversion -->
  <script>
    // ========================================
    // BINANCE API И WEBSOCKET СИСТЕМА
    // ========================================
    // Реальные курсы валют в реальном времени
    // ========================================
    
    // Конфигурация Binance API
    const BINANCE_CONFIG = {
      restApi: 'https://api.binance.com/api/v3',
      wsApi: 'wss://stream.binance.com:9443/ws',
      updateInterval: 5 * 1000, // 5 секунд - очень частые обновления
      lastUpdate: 0,
      isConnected: false,
      wsConnection: null,
      priceCache: new Map(),
      supportedPairs: new Set(),
      cacheExpiry: 3 * 1000, // 3 секунды - кэш устаревает очень быстро
      wsReconnectInterval: 5000 // 5 секунд для переподключения
    };

    // Маппинг валют для Binance API
    const CURRENCY_MAPPING = {
      // Криптовалюты
      'Bitcoin BTC': 'BTC',
      'Ethereum ETH': 'ETH',
      'Litecoin LTC': 'LTC',
      'Tron TRX': 'TRX',
      'Bsc BNB': 'BNB',
      'Polygon MATIC': 'MATIC',
      'Solana SOL': 'SOL',
      'Cardano ADA': 'ADA',
      'Dogecoin DOGE': 'DOGE',
      'Shiba Inu SHIB': 'SHIB',
      'Monero XMR': 'XMR',
      
      // Стабильные монеты (все работают одинаково)
      'USDT (TRC-20)': 'USDT',
      'USDT (ERC-20)': 'USDT',
      'USDT (BEP-20)': 'USDT',
      'USDC (ERC-20)': 'USDC',
      'USDC (BEP-20)': 'USDC',
      'DAI (ERC-20)': 'DAI',
      'BUSD (BEP-20)': 'BUSD',
      'TUSD (ERC-20)': 'TUSD',
      
      // Фиатные валюты (через реальный API)
      'BRL Real': 'BRL',
      'USD Dollar': 'USD',
      'EUR Euro': 'EUR',
      'CNY Yuan': 'CNY',
      'GBP Pound': 'GBP',
      'JPY Yen': 'JPY',
      'CAD Dollar': 'CAD',
      'AUD Dollar': 'AUD',
      'CHF Franc': 'CHF',
      'RUB Ruble': 'RUB',
      'INR Rupee': 'INR',
      'KRW Won': 'KRW'
    };

    // Обратный маппинг для отображения
    const REVERSE_MAPPING = {};
    Object.entries(CURRENCY_MAPPING).forEach(([display, symbol]) => {
      if (!REVERSE_MAPPING[symbol]) {
        REVERSE_MAPPING[symbol] = [];
      }
      REVERSE_MAPPING[symbol].push(display);
    });

    // Функция для применения комиссии (отключена)
    function applyCommission(rate) {
      // Комиссия отключена - возвращаем оригинальный курс
      return rate;
    }
    
    // Функция для получения курса между двумя валютами
    async function getExchangeRate(fromCurrency, toCurrency, amount) {
      try {
        console.log("🔄 getExchangeRate вызвана с:", { fromCurrency, toCurrency, amount });
        
        // Проверяем маппинг валют
        console.log("🔍 Доступные валюты в маппинге:", Object.keys(CURRENCY_MAPPING));
        console.log("🔍 Ищем валюту FROM:", fromCurrency);
        console.log("🔍 Ищем валюту TO:", toCurrency);
        
        const fromInfo = CURRENCY_MAPPING[fromCurrency];
        const toInfo = CURRENCY_MAPPING[toCurrency];
        
        console.log("📊 Найденная информация FROM:", fromInfo);
        console.log("📊 Найденная информация TO:", toInfo);
        
        if (!fromInfo || !toInfo) {
          console.log("❌ Валюта не поддерживается:", { fromCurrency, toCurrency });
          console.log("❌ FROM в маппинге:", !!fromInfo);
          console.log("❌ TO в маппинге:", !!toInfo);
          throw new Error('CURRENCY_NOT_SUPPORTED');
        }
        
        // Извлекаем символы валют (теперь все простые строки)
        const fromSymbol = fromInfo;
        const toSymbol = toInfo;
        
        console.log("📊 Символы валют:", { fromSymbol, toSymbol, fromInfo, toInfo });
        
        // Если это фиатная валюта, используем USDT как промежуточную
        if (isFiatCurrency(toSymbol)) {
          const rate = await getFiatRate(fromSymbol, toSymbol, amount);
          return rate;
        }
        
        // Для криптовалют используем прямые пары
        const rate = await getCryptoRate(fromSymbol, toSymbol, amount);
        return rate;
        
      } catch (error) {
        console.error("❌ Error in getExchangeRate:", error);
        throw error;
      }
    }
    
    // Проверка, является ли валюта фиатной
    function isFiatCurrency(symbol) {
      const fiatCurrencies = ['BRL', 'USD', 'EUR', 'CNY', 'GBP', 'JPY', 'CAD', 'AUD', 'CHF', 'RUB', 'INR', 'KRW'];
      return fiatCurrencies.includes(symbol);
    }
    
    // Получение курса для фиатных валют
    async function getFiatRate(fromSymbol, toSymbol, amount) {
      try {
        console.log("🔄 Получаю фиатный курс:", { fromSymbol, toSymbol });
        
        // Список стабильных монет
        const stablecoins = ['USDT', 'USDC', 'DAI', 'BUSD', 'TUSD'];
        
        // Если обе валюты фиатные, используем прямой API
        if (isFiatCurrency(fromSymbol) && isFiatCurrency(toSymbol)) {
          const rate = await getDirectFiatRate(fromSymbol, toSymbol);
          return rate;
        }
        
        // Если FROM - стабильная монета, а TO - фиатная
        if (stablecoins.includes(fromSymbol) && isFiatCurrency(toSymbol)) {
          // Для стабильных монет используем прямой API USD → фиатная валюта
          try {
            const rate = await getDirectFiatRate('USD', toSymbol);
            console.log("💰 Стабильная монета→Фиат курс (прямой API):", { fromSymbol, toSymbol, rate });
            return rate;
          } catch (error) {
            // Fallback: стабильные монеты = 1 USD
            const toUsdRate = await getFiatUsdRate(toSymbol);
            const rate = 1 / toUsdRate; // 1 стабильная монета = X фиатной валюты
            console.log("💰 Стабильная монета→Фиат курс (fallback):", { fromSymbol, toSymbol, rate, toUsdRate });
            return rate;
          }
        }
        
        // Если FROM - фиатная, а TO - стабильная монета
        if (isFiatCurrency(fromSymbol) && stablecoins.includes(toSymbol)) {
          // Для стабильных монет используем прямой API фиатная валюта → USD
          try {
            const rate = await getDirectFiatRate(fromSymbol, 'USD');
            console.log("💰 Фиат→Стабильная монета курс (прямой API):", { fromSymbol, toSymbol, rate });
            return rate;
          } catch (error) {
            // Fallback: стабильные монеты = 1 USD
            const fromUsdRate = await getFiatUsdRate(toSymbol);
            const rate = fromUsdRate; // X фиатной валюты = 1 стабильная монета
            console.log("💰 Фиат→Стабильная монета курс (fallback):", { fromSymbol, toSymbol, rate, fromUsdRate });
            return rate;
          }
        }
        
        // Если FROM - криптовалюта, а TO - фиатная
        if (!isFiatCurrency(fromSymbol) && !stablecoins.includes(fromSymbol) && isFiatCurrency(toSymbol)) {
          // Получаем курс FROM/USDT
          const fromUsdtRate = await getBinancePrice(`${fromSymbol}USDT`);
          
          // Получаем курс TO/USDT
          const toUsdtRate = await getFiatUsdRate(toSymbol);
          
          // Рассчитываем итоговый курс
          const rate = (fromUsdtRate / toUsdtRate);
          console.log("💰 Крипто→Фиат курс рассчитан:", { fromSymbol, toSymbol, rate, fromUsdtRate, toUsdtRate });
          
          return rate;
        }
        
        // Если FROM - фиатная, а TO - криптовалюта
        if (isFiatCurrency(fromSymbol) && !stablecoins.includes(toSymbol)) {
          // Получаем курс FROM/USD
          const fromUsdRate = await getFiatUsdRate(fromSymbol);
          
          // Получаем курс TO/USDT
          const rate = (fromUsdRate / toUsdtRate);
          console.log("💰 Фиат→Крипто курс рассчитан:", { fromSymbol, toSymbol, rate, fromUsdRate, toUsdtRate });
          
          return rate;
        }
        
        throw new Error('Неподдерживаемая комбинация валют');
        
      } catch (error) {
        console.error("❌ Error getting fiat rate:", error);
        throw error;
      }
    }
    
    // Получение прямого курса между фиатными валютами
    async function getDirectFiatRate(fromSymbol, toSymbol) {
      try {
        // Проверяем кэш для прямых фиатных пар
        const cacheKey = `fiat_${fromSymbol}_${toSymbol}`;
        if (BINANCE_CONFIG.priceCache.has(cacheKey)) {
          const cached = BINANCE_CONFIG.priceCache.get(cacheKey);
          if (Date.now() - cached.timestamp < BINANCE_CONFIG.cacheExpiry * 2) {
            console.log("📦 Используем кэшированный прямой фиатный курс:", { fromSymbol, toSymbol, rate: cached.rate });
            return cached.rate;
          }
        }
        
        // Получаем курс через API
        const response = await fetch(`https://api.exchangerate-api.com/v4/latest/${fromSymbol}`);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        const rate = data.rates[toSymbol];
        
        if (rate) {
          // API возвращает курс от fromSymbol к toSymbol
          // Например, если fromSymbol = EUR, toSymbol = BRL, то rate = 5.67 (1 EUR = 5.67 BRL)
          // Это правильный курс для нашего случая
          
          // Кэшируем курс
          BINANCE_CONFIG.priceCache.set(cacheKey, {
            rate: rate,
            timestamp: Date.now()
          });
          
          console.log("📊 Получен прямой фиатный курс:", { fromSymbol, toSymbol, rate, timestamp: new Date().toLocaleTimeString() });
          return rate;
        } else {
          throw new Error(`Курс ${fromSymbol}→${toSymbol} не найден`);
        }
        
      } catch (error) {
        console.error("❌ Error getting direct fiat rate:", error);
        
        // Fallback через USD
        const fromUsdRate = await getFiatUsdRate(fromSymbol);
        const toUsdRate = await getFiatUsdRate(toSymbol);
        
        const rate = fromUsdRate / toUsdRate;
        console.log("⚠️ Используем fallback курс через USD:", { fromSymbol, toSymbol, rate });
        
        return rate;
      }
    }
    
    // Получение курса для криптовалют
    async function getCryptoRate(fromSymbol, toSymbol, amount) {
      try {
        console.log("🔄 Получаю криптокурс для:", { fromSymbol, toSymbol });
        
        // Список стабильных монет (курс 1:1 к USD)
        const stablecoins = ['USDT', 'USDC', 'DAI', 'BUSD', 'TUSD'];
        
        // Если обе валюты стабильные монеты - курс 1:1
        if (stablecoins.includes(fromSymbol) && stablecoins.includes(toSymbol)) {
          const rate = 1;
          console.log("✅ Стабильные монеты курс:", { fromSymbol, toSymbol, rate, note: "1:1 (стабильные монеты)" });
          return rate;
        }
        
        // Если FROM - стабильная монета, а TO - нет
        if (stablecoins.includes(fromSymbol) && !stablecoins.includes(toSymbol)) {
          // Получаем курс TO/USDT
          const toUsdtRate = await getBinancePrice(`${toSymbol}USDT`);
          if (toUsdtRate) {
            const rate = 1 / toUsdtRate; // 1 стабильная монета = X TO
            console.log("✅ Стабильная монета → Криптовалюта:", { fromSymbol, toSymbol, rate, toUsdtRate });
            return rate;
          }
        }
        
        // Если TO - стабильная монета, а FROM - нет
        if (!stablecoins.includes(fromSymbol) && stablecoins.includes(toSymbol)) {
          // Получаем курс FROM/USDT
          const fromUsdtRate = await getBinancePrice(`${fromSymbol}USDT`);
          if (fromUsdtRate) {
            const rate = fromUsdtRate; // X FROM = 1 стабильная монета
            console.log("✅ Криптовалюта → Стабильная монета:", { fromSymbol, toSymbol, rate, fromUsdtRate });
            return rate;
          }
        }
        
        // Пробуем прямую пару для обычных криптовалют
        const directPair = `${fromSymbol}${toSymbol}`;
        let rate = await getBinancePrice(directPair);
        
        if (rate) {
          console.log("✅ Прямой курс найден:", { pair: directPair, rate });
          return rate;
        }
        
        // Если прямой пары нет, используем USDT как промежуточную
        const fromUsdtRate = await getBinancePrice(`${fromSymbol}USDT`);
        const toUsdtRate = await getBinancePrice(`${toSymbol}USDT`);
        
        if (fromUsdtRate && toUsdtRate) {
          rate = fromUsdtRate / toUsdtRate;
          console.log("✅ Курс через USDT:", { fromSymbol, toSymbol, rate, fromUsdtRate, toUsdtRate });
          return rate;
        }
        
        throw new Error('No rate available');
        
      } catch (error) {
        console.error("❌ Error getting crypto rate:", error);
        throw error;
      }
    }
    
    // Получение цены с Binance API
    async function getBinancePrice(symbol) {
      try {
        // Проверяем кэш с более коротким временем жизни
        if (BINANCE_CONFIG.priceCache.has(symbol)) {
          const cached = BINANCE_CONFIG.priceCache.get(symbol);
          if (Date.now() - cached.timestamp < BINANCE_CONFIG.cacheExpiry) {
            console.log("📦 Используем кэшированную цену для", symbol, cached.price);
            return cached.price;
          }
        }
        
        // Запрашиваем с API
        const response = await fetch(`${BINANCE_CONFIG.restApi}/ticker/price?symbol=${symbol}`);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        const price = parseFloat(data.price);
        
        // Кэшируем цену
        BINANCE_CONFIG.priceCache.set(symbol, {
          price: price,
          timestamp: Date.now()
        });
        
        console.log("📊 Получена новая цена с Binance:", { symbol, price, timestamp: new Date().toLocaleTimeString() });
        return price;
        
      } catch (error) {
        console.error("❌ Error getting Binance price for", symbol, ":", error);
        return null;
      }
    }
    
    // Получение курса фиатной валюты к USD через реальный API
    async function getFiatUsdRate(fiatSymbol) {
      try {
        // Проверяем кэш для фиатных валют
        const cacheKey = `fiat_${fiatSymbol}`;
        if (BINANCE_CONFIG.priceCache.has(cacheKey)) {
          const cached = BINANCE_CONFIG.priceCache.get(cacheKey);
          if (Date.now() - cached.timestamp < BINANCE_CONFIG.cacheExpiry * 2) { // 6 секунд для фиатных валют
            console.log("📦 Используем кэшированный фиатный курс для", fiatSymbol, cached.rate);
            return cached.rate;
          }
        }
        
        // Если это USD, возвращаем 1
        if (fiatSymbol === 'USD') {
          return 1;
        }
        
        // Получаем курс через бесплатный API
        const response = await fetch(`https://api.exchangerate-api.com/v4/latest/USD`);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        const rate = data.rates[fiatSymbol];
        
        if (rate) {
          // API возвращает курс от USD к фиатной валюте (например, 1 USD = 5.67 BRL)
          // Нам нужен курс от фиатной валюты к USD (например, 1 BRL = 0.21 USD)
          const correctRate = 1 / rate;
          
          // Кэшируем курс
          BINANCE_CONFIG.priceCache.set(cacheKey, {
            rate: correctRate,
            timestamp: Date.now()
          });
          
          console.log("📊 Получен фиатный курс с API:", { fiatSymbol, originalRate: rate, correctRate, timestamp: new Date().toLocaleTimeString() });
          return correctRate;
        } else {
          throw new Error(`Курс для ${fiatSymbol} не найден`);
        }
        
      } catch (error) {
        console.error("❌ Error getting fiat rate for", fiatSymbol, ":", error);
        
        // Fallback на фиксированные курсы при ошибке API
        const fallbackRates = {
          'BRL': 0.21, // 1 BRL = 0.21 USD
          'EUR': 1.09, // 1 EUR = 1.09 USD
          'CNY': 0.14, // 1 CNY = 0.14 USD
          'GBP': 1.27, // 1 GBP = 1.27 USD
          'JPY': 0.0067, // 1 JPY = 0.0067 USD
          'CAD': 0.74, // 1 CAD = 0.74 USD
          'AUD': 0.66, // 1 AUD = 0.66 USD
          'CHF': 1.13, // 1 CHF = 1.13 USD
          'RUB': 0.011, // 1 RUB = 0.011 USD
          'INR': 0.012, // 1 INR = 0.012 USD
          'KRW': 0.00076 // 1 KRW = 0.00076 USD
        };
        
        console.log("⚠️ Используем fallback курс для", fiatSymbol, fallbackRates[fiatSymbol]);
        return fallbackRates[fiatSymbol] || 1;
      }
    }
    
    // Инициализация WebSocket соединения
    function initWebSocket() {
      try {
        console.log("🔌 Инициализация WebSocket соединения...");
        
        // Создаем WebSocket соединение
        BINANCE_CONFIG.wsConnection = new WebSocket(BINANCE_CONFIG.wsApi);
        
                 BINANCE_CONFIG.wsConnection.onopen = function() {
           console.log("✅ WebSocket соединение установлено");
           BINANCE_CONFIG.isConnected = true;
           
           // Обновляем статус на странице
           updateWebSocketStatus('✅ Подключен');
           
           // Подписываемся на больше торговых пар для актуальных курсов
           const pairs = [
             'btcusdt', 'ethusdt', 'bnbusdt', 'adausdt', 'solusdt', 'maticusdt',
             'ltcusdt', 'trxusdt', 'dogeusdt', 'shibusdt', 'xmrusdt',
             'usdcusdt', 'daiusdt', 'busdusdt', 'tusdusdt'
           ];
           
           // Подписываемся на 24hrTicker для всех пар
           const subscribeMsg = {
             method: 'SUBSCRIBE',
             params: pairs,
             id: 1
           };
           
           BINANCE_CONFIG.wsConnection.send(JSON.stringify(subscribeMsg));
           console.log("📡 Подписка на пары:", pairs);
           
           // Отправляем ping каждые 2 минуты для поддержания соединения
           setInterval(() => {
             if (BINANCE_CONFIG.wsConnection.readyState === WebSocket.OPEN) {
               BINANCE_CONFIG.wsConnection.send(JSON.stringify({ method: 'ping' }));
             }
           }, 120000);
         };
        
        BINANCE_CONFIG.wsConnection.onmessage = function(event) {
          try {
            const data = JSON.parse(event.data);
            
            // Обрабатываем 24hrTicker обновления
            if (data.e === '24hrTicker') {
              const symbol = data.s;
              const price = parseFloat(data.c); // Текущая цена
              const priceChange = parseFloat(data.P); // Изменение цены в %
              const volume = parseFloat(data.v); // Объем торгов
              const high24h = parseFloat(data.h); // Максимум за 24ч
              const low24h = parseFloat(data.l); // Минимум за 24ч
              
              BINANCE_CONFIG.priceCache.set(symbol, {
                price: price,
                priceChange: priceChange,
                volume: volume,
                high24h: high24h,
                low24h: low24h,
                timestamp: Date.now()
              });
              
              console.log("🔄 WebSocket обновление:", { 
                symbol, 
                price, 
                change: priceChange + '%', 
                volume: volume.toFixed(2),
                high: high24h,
                low: low24h,
                time: new Date().toLocaleTimeString()
              });
              
              // Принудительно обновляем курс на странице
              if (document.getElementById('well')) {
                updateExchangeRate();
              }
            }
            
            // Обрабатываем pong ответы
            if (data.pong) {
              console.log("🏓 Pong получен от сервера");
            }
            
          } catch (error) {
            console.error("❌ Error parsing WebSocket message:", error);
          }
        };
        
                 BINANCE_CONFIG.wsConnection.onerror = function(error) {
           console.error("❌ WebSocket error:", error);
           BINANCE_CONFIG.isConnected = false;
           updateWebSocketStatus('❌ Ошибка');
         };
         
         BINANCE_CONFIG.wsConnection.onclose = function() {
           console.log("🔌 WebSocket соединение закрыто");
           BINANCE_CONFIG.isConnected = false;
           updateWebSocketStatus('⚠️ Переподключение...');
           
           // Переподключение через 5 секунд
           setTimeout(initWebSocket, 5000);
         };
        
      } catch (error) {
        console.error("❌ Error initializing WebSocket:", error);
      }
    }
    
    // Тестовая функция для Binance API
    async function testNewAPI() {
      console.log("🧪 Тестирую Binance API...");
      
      try {
        // Тестируем основные пары
        const testPairs = [
          { from: 'Bitcoin BTC', to: 'USDT (TRC-20)', amount: 1 },
          { from: 'Ethereum ETH', to: 'USDT (TRC-20)', amount: 1 },
          { from: 'Bitcoin BTC', to: 'BRL Real', amount: 1 }
        ];
        
        for (const pair of testPairs) {
          console.log(`🧪 Тестирую пару: ${pair.from} → ${pair.to}`);
          
          try {
            const rate = await getExchangeRate(pair.from, pair.to, pair.amount);
            console.log(`✅ ${pair.from} → ${pair.to}: ${rate}`);
          } catch (error) {
            console.log(`❌ ${pair.from} → ${pair.to}: ${error.message}`);
          }
        }
        
        // Тестируем WebSocket
        console.log("🧪 Тестирую WebSocket соединение...");
        if (BINANCE_CONFIG.isConnected) {
          console.log("✅ WebSocket активен");
        } else {
          console.log("❌ WebSocket неактивен");
        }
        
      } catch (error) {
        console.error("❌ Error testing API:", error);
      }
    }
    
    // Функция для работы с валютами
    function processCurrency(currencyName) {
      console.log("🔄 Обрабатываю валюту:", currencyName);
      
      const symbol = CURRENCY_MAPPING[currencyName];
      if (symbol) {
        console.log("✅ Валюта поддерживается:", { display: currencyName, symbol });
        return symbol;
      } else {
        console.log("❌ Валюта не поддерживается:", currencyName);
        return null;
      }
    }
    
    // Функция для обновления статуса WebSocket на странице
    function updateWebSocketStatus(status) {
      const wsStatusElement = document.getElementById('ws-status');
      if (wsStatusElement) {
        wsStatusElement.textContent = status;
        
        // Обновляем цвет в зависимости от статуса
        if (status.includes('✅')) {
          wsStatusElement.style.color = '#005580';
        } else if (status.includes('❌')) {
          wsStatusElement.style.color = '#ff6b6b';
        } else if (status.includes('⚠️')) {
          wsStatusElement.style.color = '#ffa500';
        }
      }
    }
    
    // Функция для принудительного обновления всех курсов
    function forceUpdateAllRates() {
      console.log("🔄 Принудительное обновление всех курсов...");
      
      // Очищаем кэш для принудительного обновления
      BINANCE_CONFIG.priceCache.clear();
      
      // Обновляем текущий курс
      updateExchangeRate();
      
      // Обновляем статус
      updateWebSocketStatus('🔄 Обновление...');
      
      setTimeout(() => {
        if (BINANCE_CONFIG.isConnected) {
          updateWebSocketStatus('✅ Подключен');
        }
      }, 2000);
    }


    // Функция для обновления курса
    async function updateExchangeRate() {
      console.log("🔄 updateExchangeRate вызвана");
      
      const rateInput = document.getElementById('well');
      const statusIndicator = document.getElementById('status-indicator');
      const statusText = document.getElementById('status-text');
      const fromCurrency = getSelectedFromCurrency();
      const toCurrency = getSelectedToCurrency();
      const fromAmount = document.getElementById('give').value || 1;
      
      console.log("📊 Параметры для обновления курса:", { fromCurrency, toCurrency, fromAmount });
      
      if (fromCurrency && toCurrency) {
        // Показываем загрузку
        if (statusIndicator && statusText) {
          statusIndicator.textContent = '🔄';
          statusIndicator.classList.add('loading');
          statusText.textContent = 'Loading real-time rate...';
        }

        try {
          // Пытаемся получить курс от новой системы
          console.log("🔄 Вызываю getExchangeRate для:", { fromCurrency, toCurrency, fromAmount });
          
          const rate = await getExchangeRate(fromCurrency, toCurrency, fromAmount);
          console.log("📊 Получен курс:", rate);
          
          if (rate) {
            // Курс уже содержит комиссию (применена в getExchangeRate)
            window.currentRate = rate;
            rateInput.value = rate.toFixed(4);
            rateInput.style.color = '#005580'; // Зеленый цвет для реального курса
            
            console.log("✅ Курс успешно установлен:", rate.toFixed(4));
            
            // Показываем успех
            if (statusIndicator && statusText) {
              statusIndicator.textContent = '✅';
              statusIndicator.classList.remove('loading');
              statusText.textContent = 'Real-time rate from Binance';
            }
          } else {
            console.log("❌ getExchangeRate вернул null");
            throw new Error("No rate received");
          }
        } catch (error) {
          console.error("❌ Error getting rate from Trocador API:", error);
          console.error("❌ Error details:", {
            message: error.message,
            stack: error.stack,
            name: error.name
          });
          
          // Обработка ошибок для Binance API
          if (error.message === 'No rate received') {
            // Курс не получен
            if (statusIndicator && statusText) {
              statusIndicator.textContent = "⚠️";
              statusIndicator.classList.remove("loading");
              statusText.textContent = "Курс не получен";
            }
            rateInput.value = "Нет курса";
            rateInput.style.color = "#ffa500";
            rateInput.placeholder = "Попробуйте другую пару";
          } else if (error.message === 'CURRENCY_NOT_SUPPORTED') {
            // Валюта не поддерживается
            if (statusIndicator && statusText) {
              statusIndicator.textContent = "❓";
              statusIndicator.classList.remove("loading");
              statusText.textContent = "Валюта не поддерживается";
            }
            rateInput.value = "Валюта не найдена";
            rateInput.style.color = "#ff6b6b";
            rateInput.placeholder = "Выберите другую валюту";
          } else {
            // Показываем обычную ошибку
            if (statusIndicator && statusText) {
              statusIndicator.textContent = "❌";
              statusIndicator.classList.remove("loading");
              statusText.textContent = `Error: ${error.message}`;
            }
            rateInput.value = "Error";
            rateInput.style.color = "#ff6b6b";
            rateInput.placeholder = "Проверьте консоль";
          }
        }
      }
    }

    // Функция для получения выбранной валюты отправления
    function getSelectedFromCurrency() {
      const activeItem = document.querySelector('[data-type="from"].active');
      const currency = activeItem ? activeItem.getAttribute('data-currency') : null;
      console.log("📤 Выбранная валюта FROM:", currency);
      console.log("🔍 Активный элемент FROM:", activeItem);
      console.log("🔍 Все элементы FROM:", document.querySelectorAll('[data-type="from"]'));
      return currency;
    }

    // Функция для получения выбранной валюты получения
    function getSelectedToCurrency() {
      const activeItem = document.querySelector('[data-type="to"].active');
      const currency = activeItem ? activeItem.getAttribute('data-currency') : null;
      console.log("📥 Выбранная валюта TO:", currency);
      console.log("🔍 Активный элемент TO:", activeItem);
      console.log("🔍 Все элементы TO:", document.querySelectorAll('[data-type="to"]'));
      return currency;
    }

    // Функция для конвертации суммы
    function convertAmount() {
      const fromAmount = document.getElementById('give');
      const toAmount = document.getElementById('receive');
      
      if (fromAmount.value && window.currentRate) {
        const converted = parseFloat(fromAmount.value) * window.currentRate;
        // Применяем комиссию 2% к сумме, которую получит клиент
        const finalAmount = converted * 0.98;
        toAmount.value = finalAmount.toFixed(2);
      }
    }

    // Функция для запуска обмена через Telegram
    function startTelegramExchange() {
      // Получаем данные формы
      const fromCurrency = getSelectedFromCurrency();
      const toCurrency = getSelectedToCurrency();
      const fromAmount = document.getElementById('give').value;
      const toAmount = document.getElementById('receive').value;
      
      // Формируем сообщение для Telegram
      let message = '🔄 Exchange Request\n\n';
      message += `💰 From: ${fromAmount || '0'} ${fromCurrency || 'USDT (TRC-20)'}\n`;
      message += `💸 To: ${toAmount || '0'} ${toCurrency || 'BRL'} (with 2% commission)\n\n`;
      message += `💱 Rate: ${window.currentRate || 'N/A'}\n`;
      message += `💸 Commission: 2%\n`;
      message += `⏰ Time: ${new Date().toLocaleString()}\n\n`;
      message += '🚀 Ready to start exchange!';
      
      // Кодируем сообщение для URL
      const encodedMessage = encodeURIComponent(message);
      
      // Переходим на Telegram
      const telegramUrl = `https://t.me/+5599981699999?text=${encodedMessage}`;
      window.open(telegramUrl, '_blank');
    }

    // Функция для обратной конвертации (из поля получения)
    function convertAmountReverse() {
      const fromAmount = document.getElementById('give');
      const toAmount = document.getElementById('receive');
      
      if (toAmount.value && window.currentRate) {
        // Учитываем комиссию 2% при обратной конвертации
        // Если клиент хочет получить X, то нужно отправить X / 0.98 / rate
        const amountWithoutCommission = parseFloat(toAmount.value) / 0.98;
        const converted = amountWithoutCommission / window.currentRate;
        fromAmount.value = converted.toFixed(6);
      }
    }

    // Инициализация при загрузке страницы
    document.addEventListener('DOMContentLoaded', function() {
      // Устанавливаем начальные активные валюты
      const fromCurrencyItems = document.querySelectorAll('[data-type="from"]');
      const toCurrencyItems = document.querySelectorAll('[data-type="to"]');
      
      // Устанавливаем USDT (TRC-20) как активную валюту отправления по умолчанию
      if (fromCurrencyItems.length > 0) {
        fromCurrencyItems[0].classList.add('active');
      }
      
      // Устанавливаем BRL как активную валюту получения по умолчанию
      if (toCurrencyItems.length > 0 && !document.querySelector("[data-type=\"to\"].active")) {
        // Ищем BRL Real и делаем её активной
        const brlItem = Array.from(toCurrencyItems).find(item => item.getAttribute("data-currency") === "BRL Real");
        if (brlItem) {
          brlItem.classList.add("active");
        } else {
          // Если BRL Real не найдена, делаем активной первую валюту
          toCurrencyItems[0].classList.add("active");
        }
      }
      // Устанавливаем курс при загрузке страницы
      updateExchangeRate();

      // Добавляем обработчики для полей сумм
      const fromAmount = document.getElementById('give');
      const toAmount = document.getElementById('receive');
      
      if (fromAmount) {
        fromAmount.addEventListener('input', convertAmount);
        fromAmount.addEventListener('blur', function() {
          if (this.value) {
            convertAmount();
          }
        });
      }
      
      if (toAmount) {
        toAmount.addEventListener('input', convertAmountReverse);
        toAmount.addEventListener('blur', function() {
          if (this.value) {
            convertAmountReverse();
          }
        });
      }

      // Обработчики для кликов по валютам
      fromCurrencyItems.forEach(item => {
        item.addEventListener('click', function() {
          // Убираем активное состояние у всех валют отправления
          fromCurrencyItems.forEach(i => i.classList.remove('active'));
          // Добавляем активное состояние к выбранной валюте
          this.classList.add('active');
          
          // Обновляем курс и пересчитываем сумму
          updateExchangeRate();
          if (fromAmount && fromAmount.value) {
            convertAmount();
          }
        });
      });

      toCurrencyItems.forEach(item => {
        item.addEventListener('click', function() {
          // Убираем активное состояние у всех валют получения
          toCurrencyItems.forEach(i => i.classList.remove('active'));
          // Добавляем активное состояние к выбранной валюте
          this.classList.add('active');
          
          // Обновляем курс и пересчитываем сумму
          updateExchangeRate();
          if (fromAmount && fromAmount.value) {
            convertAmount();
          }
        });
      });

      // Обработчик для кнопки "Start exchange via WhatsApp"
      const startWhatsAppBtn = document.querySelector('.btn-whatsapp');
      if (startWhatsAppBtn) {
        startWhatsAppBtn.addEventListener('click', function() {
          // Получаем данные формы
          const fromCurrency = getSelectedFromCurrency();
          const toCurrency = getSelectedToCurrency();
          const fromAmount = document.getElementById('give').value;
          const toAmount = document.getElementById('receive').value;
          
          // Формируем сообщение для WhatsApp
          let message = '🔄 *Exchange Request*\n\n';
          message += `💰 *From:* ${fromAmount || '0'} ${fromCurrency || 'USDT (TRC-20)'}\n`;
          message += `💸 *To:* ${toAmount || '0'} ${toCurrency || 'BRL'} (с комиссией 2%)\n\n`;
          message += `💱 *Rate:* ${window.currentRate || 'N/A'}\n`;
          message += `💸 *Commission:* 2%\n`;
          message += `⏰ *Time:* ${new Date().toLocaleString()}\n\n`;
          message += '🚀 Ready to start exchange!';
          
          // Кодируем сообщение для URL
          const encodedMessage = encodeURIComponent(message);
          
          // Переходим на WhatsApp
          const whatsappUrl = `https://wa.me/5599981699999?text=${encodedMessage}`;
          window.open(whatsappUrl, '_blank');
        });
      }

      // Автоматическое обновление курсов каждые 30 секунд
      setInterval(async () => {
        await updateExchangeRate();
      }, BINANCE_CONFIG.updateInterval);
      
      // Инициализация WebSocket соединения
      initWebSocket();

      // Показываем информацию о статусе API
      const rateInput = document.getElementById('well');
      if (rateInput) {
        rateInput.placeholder = 'Loading real-time rates...';
      }
    });
  </script>

  <!-- Footer -->
  <footer>
    <div class="footer-links">
      <a href="https://ex.financial/about_us.html">About Us</a>
      <a href="https://ex.financial/Privacy_Policy.html">Privacy Policy</a>
      <a href="https://ex.financial/Terms.html">Terms of Use</a>
      <a href="https://ex.financial/AML.html">AML/KYC</a>
    </div>
    <div style="margin-top: 1rem; color: var(--text-secondary); font-size: 0.9rem;">
      © 2025 Ex.financial. All rights reserved.
      <div style="margin-top: 0.5rem; color: var(--text-secondary); font-size: 0.8rem;">
        Ex.financial Ltda<br>
        CNPJ: 54.041.201/0001-66
      </div>    </div>
  </footer>



</body></html>